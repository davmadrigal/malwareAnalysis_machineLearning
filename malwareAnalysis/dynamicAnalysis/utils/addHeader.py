import pandas as pd
import os

def agregar_cabecera(fichero_entrada, fichero_salida):
    # Leer el fichero CSV
    df = pd.read_csv(fichero_entrada, header=None)

    # Contar el n√∫mero de columnas
    num_columnas = df.shape[1]

    # Crear una nueva cabecera
    nueva_cabecera = [str(i) for i in range(1, num_columnas + 1)]

    # Asignar la nueva cabecera al DataFrame
    df.columns = nueva_cabecera

    # Guardar el DataFrame con la nueva cabecera en un nuevo fichero
    df.to_csv(fichero_salida, index=False)


# Directory
directory = '.'
total=0
# Iterate all files in the directory
for file_name in os.listdir(directory):
    if file_name.endswith('.csv'):
        path_file = os.path.join(directory, file_name)
        # Ejemplo de uso
        fichero_salida = 'archivo_con_cabecera.csv'  # Nombre del fichero de salida
        agregar_cabecera(path_file, path_file + "-cabecera.csv")
