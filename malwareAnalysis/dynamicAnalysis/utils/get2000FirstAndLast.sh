#!/bin/bash

# Iterate all files in current directory
for file in *.csv; do
    # Verify is file exists
    if [[ -f "$file" ]]; then
	echo $file
        # get first 2000 elements
        head -n 2000 "$file" > "first_2000.txt"
        
        # get last 2000 elements
        tail -n 2000 "$file" > "last_2000.txt"
        
        # Concat
        new_file="${file%.csv}_2000.csv"
        cat first_2000.txt last_2000.txt > ./filesSplitWithSize4000/"$new_file"
        
        # Remove temp files
        rm first_2000.txt last_2000.txt
        
        echo "File created: $new_file"
    fi
done
